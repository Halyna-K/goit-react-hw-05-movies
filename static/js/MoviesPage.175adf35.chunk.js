(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[3],{101:function(t,e,n){"use strict";n.r(e);var a=n(56),c=n(0),r=n(4),u=n(54),i=n(65),o=n(16),s=n(94),l=n.n(s),b=n(1);function f(t){var e=t.getQuery,n=Object(c.useState)(""),r=Object(a.a)(n,2),u=r[0],i=r[1];return Object(b.jsx)("header",{className:l.a.SearchBar,children:Object(b.jsxs)("form",{className:l.a.SearchForm,onSubmit:function(t){t.preventDefault(),e({query:u}),i("")},children:[Object(b.jsx)("button",{type:"submit",className:l.a.button,children:Object(b.jsx)("span",{className:l.a.buttonLabel,children:"Search"})}),Object(b.jsx)("input",{className:l.a.input,type:"text",name:"query",value:u,onChange:function(t){var e=t.target,n=e.name,a=e.value;if("query"===n)i(a)},autoComplete:"off",autoFocus:!0,placeholder:"Search movie"})]})})}var v=n(63);e.default=function(){var t=Object(r.f)(),e=Object(r.g)(),n=Object(c.useState)(null),s=Object(a.a)(n,2),l=s[0],h=s[1],j=Object(c.useState)(""),p=Object(a.a)(j,2),m=p[0],d=p[1],_=Object(c.useState)(1),O=Object(a.a)(_,2),g=O[0],x=O[1],S=function(t){var e=Object(c.useState)(t),n=Object(a.a)(e,2),r=n[0],u=n[1];return[r,function(){u((function(t){return!t}))}]}(!1),y=Object(a.a)(S,2),k=y[0],w=y[1],B=Object(c.useState)(null),N=Object(a.a)(B,2),L=N[0],M=N[1];Object(c.useEffect)((function(){m&&(d(),u.a.fetchMovies(m,g).then((function(t){return h(t.results)})).catch((function(t){M(L),console.log(t)})),x((function(t){return t+1})))}),[m,g,L,h]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(i.a,{text:"Go back",onClick:function(){var n,a,c;t.push(null!==(n=null===e||void 0===e||null===(a=e.state)||void 0===a||null===(c=a.from)||void 0===c?void 0:c.location)&&void 0!==n?n:"/")}}),Object(b.jsx)(f,{getQuery:function(t){var e=t.query;t.page;d(e),h(l),d(e)&&w(!k)}}),k&&Object(b.jsx)(o.a,{}),l&&Object(b.jsx)(v.a,{movies:l})]})}},54:function(t,e,n){"use strict";var a=n(59),c=n.n(a),r=n(60),u=n(61),i=n.n(u),o="299fab6334d3a7c294b935fd0abb8d7b";i.a.defaults.baseURL="https://api.themoviedb.org/3/";var s=function(){var t=Object(r.a)(c.a.mark((function t(){var e,n,a,r,u=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=u.length>0&&void 0!==u[0]?u[0]:"",n=u.length>1&&void 0!==u[1]?u[1]:{},t.prev=2,t.next=5,i.a.get(e,n);case 5:return a=t.sent,r=a.data,t.abrupt("return",r);case 10:return t.prev=10,t.t0=t.catch(2),t.abrupt("return",t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}}(),l=function(){var t=Object(r.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s("movie/".concat(e,"/reviews?api_key=").concat(o,"&language=en-US&page=1")));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b={fetchTrends:function(){return s("trending/movie/day?api_key=".concat(o))},fetchMovies:function(t,e){return s("search/movie?api_key=".concat(o,"&query=").concat(t,"&page=").concat(e,"&language=en-US&include_adult=false"))},fetchMovieById:function(t){return s("movie/".concat(t,"?api_key=").concat(o,"&language=en-US"))},fetchCast:function(t){return s("movie/".concat(t,"/credits?api_key=").concat(o,"&language=en-US"))},fetchReviews:l};e.a=b},63:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(64),c=n.n(a),r=n(8),u=n(1),i=function(t){var e=t.movies;return Object(u.jsx)("ul",{className:c.a.list,children:e.map((function(t){return Object(u.jsx)("li",{className:c.a.item,children:Object(u.jsxs)(r.b,{className:c.a.text,to:"/movies/".concat(t.id),children:[Object(u.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500").concat(t.backdrop_path),alt:t.title,title:t.title,className:c.a.img}),Object(u.jsx)("br",{}),t.title]})},t.id)}))})}},64:function(t,e,n){t.exports={list:"MoviesList_list__1lRBZ",item:"MoviesList_item__1Rt4r",img:"MoviesList_img__1l_I7",text:"MoviesList_text__1nO02"}},65:function(t,e,n){"use strict";var a=n(66),c=n.n(a),r=n(1);e.a=function(t){var e=t.onClick,n=t.text;return Object(r.jsx)("button",{type:"button",className:c.a.button,onClick:e,children:n})}},66:function(t,e,n){t.exports={button:"Button_button__3QF_k"}},94:function(t,e,n){t.exports={SearchBar:"SearchBar_SearchBar__2Pbl1",SearchForm:"SearchBar_SearchForm__1k1JW",button:"SearchBar_button__zjQ9i",buttonLabel:"SearchBar_buttonLabel__10U9b",input:"SearchBar_input__35An9"}}}]);
//# sourceMappingURL=MoviesPage.175adf35.chunk.js.map