(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[4],{54:function(t,e,c){"use strict";var n=c(59),a=c.n(n),r=c(60),i=c(61),s=c.n(i),o="299fab6334d3a7c294b935fd0abb8d7b";s.a.defaults.baseURL="https://api.themoviedb.org/3/";var u=function(){var t=Object(r.a)(a.a.mark((function t(){var e,c,n,r,i=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:"",c=i.length>1&&void 0!==i[1]?i[1]:{},t.prev=2,t.next=5,s.a.get(e,c);case 5:return n=t.sent,r=n.data,t.abrupt("return",r);case 10:return t.prev=10,t.t0=t.catch(2),t.abrupt("return",t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}}(),l=function(){var t=Object(r.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",u("movie/".concat(e,"/reviews?api_key=").concat(o,"&language=en-US&page=1")));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.a={fetchTrends:function(){return u("trending/movie/day?api_key=".concat(o))},fetchMovies:function(t,e){return u("search/movie?api_key=".concat(o,"&query=").concat(t,"&page=").concat(e,"&language=en-US&include_adult=false"))},fetchMovieById:function(t){return u("movie/".concat(t,"?api_key=").concat(o,"&language=en-US"))},fetchCast:function(t){return u("movie/".concat(t,"/credits?api_key=").concat(o,"&language=en-US"))},fetchReviews:l}},55:function(t,e,c){"use strict";var n=c(62),a=c.n(n),r=c(1);e.a=function(t){var e=t.text;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("h1",{className:a.a.text,children:[" ",e," "]})})}},62:function(t,e,c){t.exports={text:"Title_text__39Uar"}},65:function(t,e,c){"use strict";var n=c(66),a=c.n(n),r=c(1);e.a=function(t){var e=t.onClick,c=t.text;return Object(r.jsx)("button",{type:"button",className:a.a.button,onClick:e,children:c})}},66:function(t,e,c){t.exports={button:"Button_button__3QF_k"}},95:function(t,e,c){t.exports={card:"MovieCard_card__1Ict0",description:"MovieCard_description__27lnI",poster:"MovieCard_poster__15izy",text:"MovieCard_text__EcvxM",vote:"MovieCard_vote__23teH"}},96:function(t,e,c){},99:function(t,e,c){"use strict";c.r(e);var n=c(56),a=c(0),r=c(4),i=c(8),s=c(54),o=c(65),u=c(55),l=c(95),j=c.n(l),b=c(1),d=function(t){var e=t.movie;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("article",{className:j.a.card,children:[Object(b.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500").concat(e.poster_path),alt:e.title,title:e.title,className:j.a.poster}),Object(b.jsxs)("div",{className:j.a.description,children:[Object(b.jsx)(u.a,{text:"".concat(e.title)}),Object(b.jsxs)("p",{className:j.a.text,children:["User score: ",10*"".concat(e.vote_average),"%"]}),Object(b.jsx)(u.a,{text:"Overview"}),Object(b.jsx)("p",{className:j.a.text,children:e.overview}),Object(b.jsx)(u.a,{text:"Genres"}),Object(b.jsx)("ul",{children:e.genres.map((function(t){return Object(b.jsxs)("li",{children:[t.name,","]},t.id)}))})]})]})})},h=c(96),v=c.n(h),x=function(t){var e=t.casts,c=Object(r.h)().movieId;e.find((function(t){return t.id===c}));return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("ul",{children:e.map((function(t){return Object(b.jsxs)("li",{children:[Object(b.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500").concat(t.profile_path),alt:t.name,title:t.title,className:v.a.poster}),Object(b.jsx)(u.a,{text:t.name}),Object(b.jsx)("p",{className:v.a.name,children:t.name}),Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:"Character: "}),t.character]})]},c)}))})})},f=function(t){var e=t.reviews,c=Object(r.h)().movieId;e.find((function(t){return t.id===c}));return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("ul",{children:e.map((function(t){return Object(b.jsxs)("li",{children:[Object(b.jsx)("b",{children:t.author}),Object(b.jsx)("p",{children:t.content})]},c)}))})})};e.default=function(){var t=Object(r.i)(),e=Object(r.f)(),c=Object(r.g)(),l=Object(r.h)().movieId,j=Object(a.useState)(null),h=Object(n.a)(j,2),v=h[0],p=h[1],O=Object(a.useState)(null),m=Object(n.a)(O,2),g=m[0],_=m[1],w=Object(a.useState)(null),k=Object(n.a)(w,2),y=k[0],C=k[1];console.log(t),Object(a.useEffect)((function(){s.a.fetchMovieById(l).then(p)}),[l]),console.log(v),Object(a.useEffect)((function(){s.a.fetchCast(l).then((function(t){return _(t.cast)})),s.a.fetchReviews(l).then((function(t){return C(t.results)}))}),[l]),console.log(g),console.log(y);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(o.a,{text:"Go back",onClick:function(){var t;e.push((null===c||void 0===c||null===(t=c.state)||void 0===t?void 0:t.from)||"/")}}),v&&Object(b.jsx)(d,{movie:v}),Object(b.jsx)("hr",{}),Object(b.jsx)(u.a,{text:"Additional information"}),v&&Object(b.jsx)("nav",{children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(i.c,{to:"".concat(t.url,"/cast"),children:"Casts"})},l),Object(b.jsx)("li",{children:Object(b.jsx)(i.c,{to:"".concat(t.url,"/reviews"),children:"Reviews"})},v.id)]})}),Object(b.jsx)(r.a,{path:"".concat(t.url,"/cast"),children:v&&Object(b.jsx)(x,{casts:g})}),Object(b.jsx)(r.a,{path:"".concat(t.url,"/reviews"),children:v&&Object(b.jsx)(f,{reviews:y})})]})}}}]);
//# sourceMappingURL=4.7e951fca.chunk.js.map